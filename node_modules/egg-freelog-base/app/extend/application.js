/**
 * Created by yuliang on 2017/8/9.
 */

'use strict'

const is = require('is-type-of')
const upload = require('./application/upload/upload_factory')
const singleton = require('./application/singleton')
const knexClient = require('./application/knex_client')
const contractType = require('../enum/contract_type')
const resourceType = require('../enum/resource_type')


module.exports = {

    /**
     * 类型判断库
     */
    type: is,

    /**
     * 合同类型
     */
    contractType,

    /**
     * 资源类型
     */
    resourceType,


    /**
     * 惰性单例模式
     * @param func
     * @returns {Function}
     */
    singleton,

    /**
     * 通用OSS上传组件
     */
    get upload() {
        return upload(this.config.uploadConfig)
    },

    /**
     * knex-orm framework
     * WIKI: http://knexjs.org/
     */
    get knex() {
        return knexClient(this.config.dbConfig)
    }
}